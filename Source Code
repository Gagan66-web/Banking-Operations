#include <stdio.h>
#include <math.h>
#define DAYS_IN_YEAR 365
float savingsAccount() {
  int daysInMonth[4] = {30, 28, 31, 30};
  float balance[4];
  float interestRate = 3.5;
  float monthlyInterest, totalInterest = 0.0;
  printf("Enter balances for each month:\n");
  for (int i = 0; i < 4; i++) {
    printf("Month %d: ", i + 1);
    scanf("%f", &balance[i]);
  }
  printf("\nEnd of Month\tBalance\t\tNo of Days\tInterest Generated\n");
  for (int i = 0; i < 4; i++) {
    monthlyInterest = balance[i] * daysInMonth[i] * interestRate / DAYS_IN_YEAR;
    printf("%d\t\t%.2f\t\t%d\t\t%.2f\n", i+1, balance[i], daysInMonth[i], monthlyInterest);
    totalInterest += monthlyInterest;
    balance[i + 1] = balance[i] + monthlyInterest;
  }
  return totalInterest;
}
float fixedDeposit() {
  float principal, interestRate, maturityAmount, closingPeriod;
  int compoundingFrequency = 2;
  float interestEarned;
  printf("Enter Fixed Deposit details:\n");
  printf("Principal Amount: ");
  scanf("%f", &principal);
  printf("Interest Rate (p.a.): ");
  scanf("%f", &interestRate);
  printf("Closing Period (in years): ");
  scanf("%f", &closingPeriod);
  maturityAmount = principal * pow((1 + interestRate/(compoundingFrequency * 100)), compoundingFrequency * closingPeriod);
  interestEarned = maturityAmount - principal;
  printf("Maturity Amount: Rs. %.2f\n", maturityAmount);
  printf("Interest Earned: Rs. %.2f\n", interestEarned);
  if (closingPeriod < 5) {
    float penalty = maturityAmount * 0.5 / 100;
    printf("Penalty (0.5%%): Rs. %.2f\n", penalty);
    maturityAmount -= penalty;
    printf("Final Maturity Amount: Rs. %.2f\n", maturityAmount);
  }
  return interestEarned;
}
double homeLoan() {
  float loanAmount, interestRate, tenureMonths, monthlyInterestRate;
  double emi, totalInterest,totalamt;
  printf("Enter Home Loan details:\n");
  printf("Principal Loan Amount: ");
  scanf("%f", &loanAmount);
  printf("Interest Rate (p.a.): ");
  scanf("%f", &interestRate);
  printf("Tenure (in months): ");
  scanf("%f", &tenureMonths);
  monthlyInterestRate = interestRate / (12 * 100);
  emi = (loanAmount * monthlyInterestRate * pow(1 + monthlyInterestRate, tenureMonths)) /
  (pow(1 + monthlyInterestRate, tenureMonths) - 1);
  totalInterest = emi * tenureMonths - loanAmount;
  totalamt=emi*tenureMonths;
  printf("\nMonthly EMI: Rs. %.2f\n", emi);
  printf("Total AMount Payable: Rs. %2f\n",totalamt);
  printf("Total Interest Paid: Rs. %.2f\n", totalInterest);
  return emi;
}
int main() {
  int choice;
  float savingsInterest;
  float fdInterest;
  double homeLoanEMI;
  while (1) {
    printf("\nChoose The Following Banking Operation:\n");
    printf("1. Interest Calculation of a Savings Account\n");
    printf("2. Calculation of Interest and Maturity amount of FD account\n");
    printf("3. Home Loan EMI Calculation\n");
    printf("Enter your choice(1,2,3): ");
    scanf("%d", &choice);
  switch (choice) {
    case 1: savingsInterest = savingsAccount();
      printf("\nTotal Interest over 4 months: Rs. %.2f\n", savingsInterest);
      break;
    case 2: fdInterest = fixedDeposit();
      break;
    case 3: homeLoanEMI = homeLoan();
      break;
    default: printf("Invalid choice!\n");
      }
    }
  return 0;
}
